{
  "mappings": [
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$ISA14_Ack_Requested$",
      "script": "<trans>\n\"0\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/ISA14_Ack_Requested"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$ISA15_Usage$",
      "script": "<trans>\n\"P\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/ISA15_Usage"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$ISA16_Component_Separator$",
      "script": "<trans>\n\">\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/ISA16_Component_Separator"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.GS07_Agency_Code$",
      "script": "<trans>\n\"X\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/GS07_Agency_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.ST01_Transaction_Set_Identifier_Code$",
      "script": "<trans>\n\"856\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/ST01_Transaction_Set_Identifier_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.BSN.BSN01_Transaction_Set_Purpose_Code$",
      "script": "<trans>\n\"00\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/BSN/BSN01_Transaction_Set_Purpose_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.BSN.BSN03_Date$",
      "script": "<trans>\nFormatDate(ConvertTimeZone(Now(), \"UTC\", \"America/New_York\", false, false),\"yyyymmdd\")\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/BSN/BSN03_Date"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.HL01_Hierarchical_Id_Number$",
      "script": "<trans>\n\"1\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/HL01_Hierarchical_Id_Number"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.HL03_Hierarchical_Level_Code$",
      "script": "<trans>\n\"S\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/HL03_Hierarchical_Level_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.TD1.TD108_Unit_Or_Basis_For_Measurement_Code$",
      "script": "<trans>\n\"LB\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/TD1/TD108_Unit_Or_Basis_For_Measurement_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.TD5.TD502_Identification_Code_Qualifier$",
      "script": "<trans>\n\"2\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/TD5/TD502_Identification_Code_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.BSN.BSN05_Hierarchical_Structure_Code$",
      "script": "<trans>\n\"0001\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/BSN/BSN05_Hierarchical_Structure_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL01_Hierarchical_Id_Number$",
      "script": "<trans>\n\"2\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL01_Hierarchical_Id_Number"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.REF.REF01_Reference_Identification_Qualifier$",
      "script": "<trans>\n\"BM\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/REF/REF01_Reference_Identification_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.REF?2.REF01_Reference_Identification_Qualifier$",
      "script": "<trans>\n\"CN\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/REF#2/REF01_Reference_Identification_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.REF?2.REF02_Reference_Identification$",
      "script": "<trans>\nBOL = searchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$Carrier_PRO_Number$value$;\nif(isnull(BOL), $isTest = true; BOL = \"Missing  carrier PRO\"; $jitterbitErrorMessage += BOL + \", \");\nBOL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/REF#2/REF02_Reference_Identification"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.REF?3.REF01_Reference_Identification_Qualifier$",
      "script": "<trans>\n\"BX\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/REF#3/REF01_Reference_Identification_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.REF?3.REF02_Reference_Identification$",
      "script": "<trans>\n//REALLY IN  AMAZON ARN NUMBER CFIELD IN NS BUT MAPPIED INTO THIS FIELD ON THE IF SCHEMA DECLARATION\nBOL = searchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$In8_Amazon_Pro_Number$value$;\nif(isnull(BOL), $isTest = true; BOL = \"Missing Amazon ARN numbr\"; $jitterbitErrorMessage += BOL + \", \");\nBOL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/REF#3/REF02_Reference_Identification"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.DTM.DTM01_Date_Time_Qualifier$",
      "script": "<trans>\n\"011\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/DTM/DTM01_Date_Time_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.FOB.FOB01_Shipment_Method_Of_Payment$",
      "script": "<trans>\n\"CC\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/FOB/FOB01_Shipment_Method_Of_Payment"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL02_Hierarchical_Parent_Id_Number$",
      "script": "<trans>\n// Pallet parent is always Order level (2)\n$palletIterator++;\n\"2\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL02_Hierarchical_Parent_Id_Number"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL.HL03_Hierarchical_Level_Code$",
      "script": "<trans>\n\"I\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL/HL03_Hierarchical_Level_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.CTT?1.",
      "script": "<trans>\n$isTest\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/CTT#1"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.CTT?1.CTT01_Number_Of_Line_Items$",
      "script": "<trans>\n$jitterbitErrorMessage\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/CTT#1/CTT01_Number_Of_Line_Items"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$ISA05_ID_Qualifier$",
      "script": "<trans>\n$senderQualfier\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/ISA05_ID_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$ISA06_Sender_ID$",
      "script": "<trans>\n$senderID\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/ISA06_Sender_ID"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$ISA07_ID_Qualifier$",
      "script": "<trans>\n$recieverQualifer\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/ISA07_ID_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$ISA08_Receiver_ID$",
      "script": "<trans>\n$recieverID\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/ISA08_Receiver_ID"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$ISA11_Standards_Id$",
      "script": "<trans>\n\n$standardsID\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/ISA11_Standards_Id"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$ISA12_Control_Version$",
      "script": "<trans>\n$controlVersion\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/ISA12_Control_Version"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.GS01_Functional_Identifier_Code$",
      "script": "<trans>\n$twoDigitLetterCode\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/GS01_Functional_Identifier_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.GS02_Sender_Code$",
      "script": "<trans>\n$senderID\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/GS02_Sender_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.GS03_Receiver_Code$",
      "script": "<trans>\n$recieverID\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/GS03_Receiver_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.GS08_Version_Control$",
      "script": "<trans>\n$controlVersion + \"0\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/GS08_Version_Control"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.PRF.PRF01_Purchase_Order_Number$",
      "script": "<trans>\n$poNumber = searchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$Related_PO__$value$;\n$poNumber\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/PRF/PRF01_Purchase_Order_Number"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.TD1.TD107_Weight$",
      "script": "<trans>\n// Map weight from Total_shipment_weight custom field\nweight = searchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$Total_shipment_weight$value$;\nif(isnull(weight), weight = 0.0);\nRound(double(weight), 2)\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/TD1/TD107_Weight"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.TD1.TD106_Weight_Qualifier$",
      "script": "<trans>\npoop = 10;\n\"G\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/TD1/TD106_Weight_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.DTM.DTM02_Date$",
      "script": "<trans>\nshippedDate = searchResponse$searchResult$recordList$record.ItemFulfillment$shippedDate$;\nif(isnull(shippedDate), shippedDate = now());\nformatdate( DateAdd(\"dd\", 1, shippedDate) , \"yyyymmdd\")\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/DTM/DTM02_Date"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.CTT.CTT01_Number_Of_Line_Items$",
      "script": "<trans>\n// CTT01 = Number of Line Items (items, not pallets or cartons)\n// Count items across all pallets\n$totalLineItems = 0;\n$i = 0;\nwhile($i < $totalPallets,\n    $tempPallet = $pallet_array_object[\"pallets\"][$i];\n    $tempPalletItems = $tempPallet[\"items\"];\n    $totalLineItems += Length($tempPalletItems);\n    $i++;\n);\nWriteToOperationLog(\"Total Line Items (items) across all pallets: \" + $totalLineItems);\n$totalLineItems\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/CTT/CTT01_Number_Of_Line_Items"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.BSN.BSN04_Time$",
      "script": "<trans>\nFormatDate(ConvertTimeZone(Now(), \"UTC\", \"America/New_York\", false, false),\"HHMM\")\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/BSN/BSN04_Time"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.TD1.TD101_Packaging_Code$",
      "script": "<trans>\n\"PLT\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/TD1/TD101_Packaging_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1.N101_Entity_Identifier_Code$",
      "script": "<trans>\n\"SF\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1/N101_Entity_Identifier_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.TD5.TD504_Transportation_Method_Type_Code$",
      "script": "<trans>\n//$hasSCAC = true;\n//code = searchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$Carrier_Transportation_Method_Code$value$;\n//if(isnull(code), $hasSCAC = false; code = \"M\");\n//code\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/TD5/TD504_Transportation_Method_Type_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.TD1.TD102_Lading_Quantity$",
      "script": "<trans>\n// Use total pallets from JSON\n$totalPallets\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/TD1/TD102_Lading_Quantity"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.DTM.DTM03_Time$",
      "script": "<trans>\nshippedDate = searchResponse$searchResult$recordList$record.ItemFulfillment$shippedDate$;\nif(isnull(shippedDate), shippedDate = now());\nformatdate( DateAdd(\"dd\", 1, shippedDate) , \"HHMM\")\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/DTM/DTM03_Time"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.DTM?1.DTM01_Date_Time_Qualifier$",
      "script": "<trans>\n\"017\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/DTM#1/DTM01_Date_Time_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.DTM?1.DTM02_Date$",
      "script": "<trans>\nshippedDate = searchResponse$searchResult$recordList$record.ItemFulfillment$shippedDate$;\nif(isnull(shippedDate), shippedDate = now());\nformatdate( DateAdd(\"dd\", 2, shippedDate) , \"yyyymmdd\")\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/DTM#1/DTM02_Date"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.DTM?1.DTM03_Time$",
      "script": "<trans>\nshippedDate = searchResponse$searchResult$recordList$record.ItemFulfillment$shippedDate$;\nif(isnull(shippedDate), shippedDate = now());\nformatdate( DateAdd(\"dd\", 2, shippedDate) , \"HHMM\")\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/DTM#1/DTM03_Time"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1.N103_Identification_Code_Qualifier$",
      "script": "<trans>\n\"92\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1/N103_Identification_Code_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1.N104_Identification_Code$",
      "script": "<trans>\n//REALLY MAPPED FORM NS FIELD AMAZON WAREHOUSE LOCATION NUMBER IN JB ROUTING TAB BUT.. YK \nBOL = searchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$In8_Amazon_Id$value$;\nif(isnull(BOL), $isTest = true; BOL = \"Missing Amazon warehouse code    \"; $jitterbitErrorMessage += BOL + \", \");\nBOL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1/N104_Identification_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1.N4.N403_Postal_Code$",
      "script": "<trans>\nBOL = $locationToZip[$location];\nif(isnull(BOL), $isTest = true; BOL = \"Missing ship from location zipcode.   \"; $jitterbitErrorMessage += BOL + \", \");\nBOL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1/N4/N403_Postal_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1.N4.N401_City_Name$",
      "script": "<trans>\nBOL = $locationToCity[$location];\nif(isnull(BOL), $isTest = true; BOL = \"Missing ship from location city.    \"; $jitterbitErrorMessage += BOL + \", \");\nBOL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1/N4/N401_City_Name"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1.N102_Name$",
      "script": "<trans>\n$location = searchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$Ship_From_Address_Location_Number$value$;\nBOL = $locationToName[$location];\nif(isnull(BOL), $isTest = true; BOL = \"Missing ship from location name\"; $jitterbitErrorMessage += BOL + \", \");\nBOL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1/N102_Name"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1.N4.N402_State_Or_Province_Code$",
      "script": "<trans>\nBOL = $locationToState[$location];\nif(isnull(BOL), $isTest = true; BOL = \"Missing ship from state.    \"; $jitterbitErrorMessage += BOL + \", \");\nBOL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1/N4/N402_State_Or_Province_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1.N4.N404_Country_Code$",
      "script": "<trans>\n\"US\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1/N4/N404_Country_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1?1.N101_Entity_Identifier_Code$",
      "script": "<trans>\n\"ST\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1#1/N101_Entity_Identifier_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1?1.N102_Name$",
      "script": "<trans>\nBOL = searchResponse$searchResult$recordList$record.ItemFulfillment$shippingAddress$addressee$;\nif(isnull(BOL), $isTest = true; BOL = \"Missing ship to name\"; $jitterbitErrorMessage += BOL + \", \");\nBOL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1#1/N102_Name"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1?1.N103_Identification_Code_Qualifier$",
      "script": "<trans>\nsearchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$Ship_To_Code_Qualifier$value$\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1#1/N103_Identification_Code_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1?1.N104_Identification_Code$",
      "script": "<trans>\nsearchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$Ship_To_Code$value$\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1#1/N104_Identification_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1.N3.N301_Address_Information$",
      "script": "<trans>\nBOL = $locationToAddress1[$location];\nif(isnull(BOL), $isTest = true; BOL = \"Missing ship from address 1    \"; $jitterbitErrorMessage += BOL + \", \");\nBOL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1/N3/N301_Address_Information"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.N1.N3.N302_Address_Information$",
      "script": "<trans>\nBOL = $locationToAddress2[$location];\n//(isnull(BOL), $isTest = true; BOL = \"Missing ship from address 2.  \"; $jitterbitErrorMessage += BOL + \", \");\nBOL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/N1/N3/N302_Address_Information"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.PRF.PRF04_Date$",
      "script": "<trans>\n//formatdate(DateAdd(\"dd\", 1,searchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$PO_Date$value$ ), \"yyyymmdd\")\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/PRF/PRF04_Date"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL.LIN.LIN02_Product_Service_Id_Qualifier$",
      "script": "<trans>\n\"VN\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL/LIN/LIN02_Product_Service_Id_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL.LIN.LIN07_Product_Service_Id$",
      "script": "<trans>\n\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL/LIN/LIN07_Product_Service_Id"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.TD5.TD503_Identification_Code$",
      "script": "<trans>\nSCAC = searchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$Standard_Carrier_Alpha_Code$value$;\nif(isnull(SCAC), $isTest = true; SCAC = \"Missing standard carrier alpha code (SCAC)\"; $jitterbitErrorMessage += SCAC + \", \");\n$isSmallParcel = false; //(SCAC == \"SMALLPARCELCODE\")\nSCAC\n\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/TD5/TD503_Identification_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$ISA03_Security_Info_Qualifier$",
      "script": "<trans>\n$senderQualfier = \"12\";\n$senderID = \"7184060142P\";\n$recieverQualifer = \"ZZ\";\n$recieverID = \"AMAZON\";\n$standardsID = \"|\";\n$controlVersion = \"00501\";\n$twoDigitLetterCode = \"SH\";\n\n\"00\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/ISA03_Security_Info_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL.REF.REF02_Reference_Identification$",
      "script": "<trans>\nBOL = searchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$Related_PO__$value$;\nif(isnull(BOL), $isTest = true; BOL = \"Missing bill of lading (PO number)\"; $jitterbitErrorMessage += BOL + \", \");\nBOL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL/REF/REF02_Reference_Identification"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.",
      "script": "<trans>\nrun = false;\n$lineDataIsPresent = true;\nif($recordIterator == searchResponse$searchResult$recordList$record.ItemFulfillment$recordNumber$ , run = true);\nrun\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL02_Hierarchical_Parent_Id_Number$",
      "script": "<trans>\n\"1\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL02_Hierarchical_Parent_Id_Number"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.",
      "script": "<trans>\n// Only run pallet-level node when palletIterator < totalPallets and no JSON errors\n$palletIterator < $totalPallets && Length($jitterbitErrorMessage) == 0\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL03_Hierarchical_Level_Code$",
      "script": "<trans>\n\n\"O\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL03_Hierarchical_Level_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.REF.",
      "script": "<trans>\n$isSmallParcel\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/REF"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.MAN.MAN01_Marks_And_Numbers_Qualifier$",
      "script": "<trans>\n\"GM\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/MAN/MAN01_Marks_And_Numbers_Qualifier"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL.HL02_Hierarchical_Parent_Id_Number$",
      "script": "<trans>\n// Item parent is the current pallet's HL number\n$currentPalletHL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL/HL02_Hierarchical_Parent_Id_Number"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL.LIN.LIN01_Assigned_Identification$",
      "script": "<trans>\n// Get PO Line Number from current item in current pallet declared in HL item loop\n$PO_LineItemNUmber = $currentItem[\"poLineNumber\"];\n$PO_LineItemNUmber\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL/LIN/LIN01_Assigned_Identification"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL.LIN.LIN03_Product_Service_Id$",
      "script": "<trans>\n// Get VPN from current item in current pallet\n$VPN = $currentItem[\"vpn\"];\nif(isnull($VPN), $lineDataIsPresent = false);\n$VPN\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL/LIN/LIN03_Product_Service_Id"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL.SN1.SN101_Assigned_Identification$",
      "script": "<trans>\n$PO_LineItemNUmber\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL/SN1/SN101_Assigned_Identification"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL.SN1.SN102_Number_Of_Units_Shipped$",
      "script": "<trans>\n$currentItem[\"qty\"]\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL/SN1/SN102_Number_Of_Units_Shipped"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL.SN1.SN103_Unit_Or_Basis_For_Measurement_Code$",
      "script": "<trans>\n$currentItem[\"ediUom\"]\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL/SN1/SN103_Unit_Or_Basis_For_Measurement_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL.HL01_Hierarchical_Id_Number$",
      "script": "<trans>\n//Get it to loop on item:\nitem = searchResponse$searchResult$recordList$record.ItemFulfillment$itemList$item.item$internalId;\n$currentItem = $currentPallet[\"items\"][$itemIterator++];\n// Increment HL counter for each item (items increment sequentially: 4, 5, 6, etc.)\n$hlCounter++;\n$hlCounter\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL/HL01_Hierarchical_Id_Number"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.BSN.BSN02_Shipment_Identification$",
      "script": "<trans>\nright(searchResponse$searchResult$recordList$record.ItemFulfillment$tranId$, 9) +\"Pallets\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/BSN/BSN02_Shipment_Identification"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.MAN.MAN02_Marks_And_Numbers$",
      "script": "<trans>\n$currentPallet[\"sscc\"]\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/MAN/MAN02_Marks_And_Numbers"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL01_Hierarchical_Id_Number$",
      "script": "<trans>\n// Source node to initiate pallet loop - use packageList from IF\n$trackingNumFromIFItself = searchResponse$searchResult$recordList$record.ItemFulfillment$packageList$package.packageTrackingNumber$;\n\n// Reset item iterator for new pallet\n$itemIterator = 0;\n\n// Declare current pallet once here - reuse in all child nodes\n$currentPallet = $pallet_array_object[\"pallets\"][$palletIterator];\n$total_items_in_pallet = Length($currentPallet[\"items\"]);\n\n// Increment HL counter for pallet (starts at 3, then continues as items increment it)\n$hlCounter++;\n$currentPalletHL = $hlCounter;\n$currentPalletHL\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL01_Hierarchical_Id_Number"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL.",
      "script": "<trans>\n// Only run item-level node when itemIterator < number of items in current pallet:\n$itemIterator < $total_items_in_pallet\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$GS.ST.HL?1.HL.HL03_Hierarchical_Level_Code$",
      "script": "<trans>\n\"T\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/GS/ST/HL#1/HL/HL03_Hierarchical_Level_Code"
    },
    {
      "targetNode": "SendDocumentsRequest$Documents$X12Document.ISA$ISA01_Info_Qualifier$",
      "script": "<trans>\n$isTest = false;\n$jitterbitErrorMessage = \"\";\n//WriteToOperationLog(\"DONALD TRUMP WILL BE THE 47th PRESIDENT OF THE USA!!\");\n$IF_ID = searchResponse$searchResult$recordList$record.ItemFulfillment$internalId;\nifNumber = searchResponse$searchResult$recordList$record.ItemFulfillment$tranId$;\nwritecache(ifNumber ,$IF_ID, 2592000, \"env\");\nWriteToOperationLog(\"IF NUMBER: \" + ifNumber);\nWriteToOperationLog(\"  \");\n\n$palletJSONString = searchResponse$searchResult$recordList$record.ItemFulfillment$customFieldList$Pallet_array_JSON$value$;\n\n//validate JSON\nvalidationResult = RunScript(\"<TAG>script:Validate_pallet_JSON</TAG>\");\nWriteToOperationLog(\"VALIDATION RESULT: \" + validationResult);\n\n// Parse the JSON result\nvalidationObj = JSONParser(validationResult);\nsuccess = validationObj[\"success\"];\nerrorMessage = validationObj[\"errorMessage\"];\nstatus = validationObj[\"status\"];\n\nCase(\n    success == true,\n        // JSON is valid - parse it and set up variables\n        $pallet_array_object = JSONParser($palletJSONString);\n        $totalPallets = $pallet_array_object[\"totalPallets\"];\n        WriteToOperationLog(\"JSON validation passed. Total Pallets: \" + $totalPallets);\n    ,\n    status == \"INVALID_JSON\",\n        $isTest = true;\n        $jitterbitErrorMessage += \"Pallet_array_JSON is malformed or invalid JSON, \";\n        WriteToOperationLog(\"INVALID JSON: \" + errorMessage);\n    ,\n    status == \"MISSING_DATA\",\n        $isTest = true;\n        $jitterbitErrorMessage += \"Pallet_array_JSON missing required data: \" + errorMessage + \", \";\n        WriteToOperationLog(\"MISSING DATA: \" + errorMessage);\n    ,\n    true,\n        // Default case - script failed or unknown status\n        $isTest = true;\n        $jitterbitErrorMessage += \"Pallet JSON validation script failed, \";\n        WriteToOperationLog(\"VALIDATION FAILED: \" + errorMessage);\n);\n\nWriteToOperationLog(\"Jitterbit error message: \" + $jitterbitErrorMessage);\n// Initialize HL counter: Shipment=1, Order=2, so start pallets at 3\n$hlCounter = 2;\n$palletIterator = 0;\n\n\"00\"\n</trans>",
      "targetPath": "SendDocumentsRequest/Documents/X12Document/ISA/ISA01_Info_Qualifier"
    }
  ]
}